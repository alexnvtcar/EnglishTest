<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π - English Learning PWA</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
        }
        
        .test-section h2 {
            margin-top: 0;
            color: #ffd700;
        }
        
        .test-button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: transform 0.2s;
        }
        
        .test-button:hover {
            transform: translateY(-2px);
        }
        
        .test-button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .status {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }
        
        .status.success {
            background: rgba(76, 175, 80, 0.3);
            border: 1px solid #4CAF50;
        }
        
        .status.error {
            background: rgba(244, 67, 54, 0.3);
            border: 1px solid #f44336;
        }
        
        .status.warning {
            background: rgba(255, 152, 0, 0.3);
            border: 1px solid #ff9800;
        }
        
        .status.info {
            background: rgba(33, 150, 243, 0.3);
            border: 1px solid #2196F3;
        }
        
        .device-info {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 14px;
        }
        
        .log {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-family: monospace;
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîî –¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h1>
        
        <div class="test-section">
            <h2>üì± –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</h2>
            <div class="device-info" id="deviceInfo">
                –ó–∞–≥—Ä—É–∑–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ...
            </div>
        </div>
        
        <div class="test-section">
            <h2>üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏</h2>
            <div id="supportStatus" class="status info">
                –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π...
            </div>
            <button class="test-button" onclick="checkSupport()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É</button>
        </div>
        
        <div class="test-section">
            <h2>üîê –†–∞–∑—Ä–µ—à–µ–Ω–∏—è</h2>
            <div id="permissionStatus" class="status info">
                –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π...
            </div>
            <button class="test-button" onclick="requestPermission()">–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è</button>
            <button class="test-button" onclick="checkPermission()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
        </div>
        
        <div class="test-section">
            <h2>üì® –¢–µ—Å—Ç–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
            <button class="test-button" onclick="testBasicNotification()">–ë–∞–∑–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</button>
            <button class="test-button" onclick="testTaskCompletion()">–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è</button>
            <button class="test-button" onclick="testLevelUp()">–ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è</button>
            <button class="test-button" onclick="testMotivational()">–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ</button>
            <button class="test-button" onclick="testScheduled()">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ</button>
        </div>
        
        <div class="test-section">
            <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h2>
            <div class="notification-settings-section">
                <div class="notification-setting-item">
                    <label class="notification-toggle">
                        <input type="checkbox" id="testEnableNotifications" onchange="toggleTestSetting('enableNotifications', this.checked)">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">–í–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                    </label>
                </div>
                
                <div class="notification-setting-item">
                    <label class="notification-toggle">
                        <input type="checkbox" id="testEnableTaskNotifications" onchange="toggleTestSetting('enableTaskNotifications', this.checked)">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞–Ω–∏—è—Ö</span>
                    </label>
                </div>
                
                <div class="notification-setting-item">
                    <label class="notification-toggle">
                        <input type="checkbox" id="testEnableLevelNotifications" onchange="toggleTestSetting('enableLevelNotifications', this.checked)">
                        <span class="toggle-slider"></span>
                        <span class="toggle-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —É—Ä–æ–≤–Ω—è—Ö</span>
                    </label>
                </div>
            </div>
            <button class="test-button" onclick="testWithSettings()">–¢–µ—Å—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</button>
        </div>
        
        <div class="test-section">
            <h2>üìä –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π</h2>
            <div class="log" id="eventLog">
                –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å...
            </div>
            <button class="test-button" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥</button>
        </div>
    </div>

    <script>
        // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π
        function log(message, type = 'info') {
            const logElement = document.getElementById('eventLog');
            const timestamp = new Date().toLocaleTimeString();
            const logEntry = document.createElement('div');
            logEntry.innerHTML = `<span style="color: #888;">[${timestamp}]</span> <span style="color: ${getTypeColor(type)};">${message}</span>`;
            logElement.appendChild(logEntry);
            logElement.scrollTop = logElement.scrollHeight;
        }
        
        function getTypeColor(type) {
            const colors = {
                'info': '#2196F3',
                'success': '#4CAF50',
                'warning': '#ff9800',
                'error': '#f44336'
            };
            return colors[type] || '#2196F3';
        }
        
        function clearLog() {
            document.getElementById('eventLog').innerHTML = '–õ–æ–≥ –æ—á–∏—â–µ–Ω...';
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function checkSupport() {
            const isSupported = 'Notification' in window && 'serviceWorker' in navigator;
            const statusElement = document.getElementById('supportStatus');
            
            if (isSupported) {
                statusElement.className = 'status success';
                statusElement.textContent = '‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è';
                log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è', 'success');
            } else {
                statusElement.className = 'status error';
                statusElement.textContent = '‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è';
                log('‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è', 'error');
            }
            
            return isSupported;
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
        function checkPermission() {
            if (!checkSupport()) return;
            
            const permission = Notification.permission;
            const statusElement = document.getElementById('permissionStatus');
            
            switch (permission) {
                case 'granted':
                    statusElement.className = 'status success';
                    statusElement.textContent = '‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã';
                    log('‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã', 'success');
                    break;
                case 'denied':
                    statusElement.className = 'status error';
                    statusElement.textContent = '‚ùå –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã';
                    log('‚ùå –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã', 'error');
                    break;
                case 'default':
                    statusElement.className = 'status warning';
                    statusElement.textContent = '‚ö†Ô∏è –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–µ –∑–∞–ø—Ä–æ—à–µ–Ω—ã';
                    log('‚ö†Ô∏è –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–µ –∑–∞–ø—Ä–æ—à–µ–Ω—ã', 'warning');
                    break;
            }
            
            return permission;
        }
        
        // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
        async function requestPermission() {
            if (!checkSupport()) return;
            
            try {
                const permission = await Notification.requestPermission();
                log(`üîê –ó–∞–ø—Ä–æ—à–µ–Ω—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è: ${permission}`, 'info');
                checkPermission();
            } catch (error) {
                log(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π: ${error.message}`, 'error');
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –±–∞–∑–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function testBasicNotification() {
            if (Notification.permission !== 'granted') {
                log('‚ùå –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return;
            }
            
            const notification = new Notification('–¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ', {
                body: '–≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã',
                icon: './icons/icon-192x192.svg',
                badge: './icons/icon-72x72.svg',
                tag: 'test-notification'
            });
            
            log('üì® –ü–æ–∫–∞–∑–∞–Ω–æ –±–∞–∑–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ', 'success');
            
            notification.onclick = () => {
                log('üëÜ –ö–ª–∏–∫ –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—é', 'info');
                notification.close();
            };
        }
        
        // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è
        function testTaskCompletion() {
            if (Notification.permission !== 'granted') {
                log('‚ùå –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return;
            }
            
            const notification = new Notification('–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! üéâ', {
                body: '–ò–∑—É—á–µ–Ω–∏–µ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏ - –ø–æ–ª—É—á–µ–Ω–æ 150 XP',
                icon: './icons/icon-192x192.svg',
                badge: './icons/icon-72x72.svg',
                tag: 'task-completion'
            });
            
            log('üì® –ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è', 'success');
        }
        
        // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
        function testLevelUp() {
            if (Notification.permission !== 'granted') {
                log('‚ùå –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return;
            }
            
            const notification = new Notification('–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!', {
                body: '‚≠ê –ù–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å! –¢–µ–ø–µ—Ä—å –≤—ã 15 —É—Ä–æ–≤–Ω—è',
                icon: './icons/icon-192x192.svg',
                badge: './icons/icon-72x72.svg',
                tag: 'level-up'
            });
            
            log('üì® –ü–æ–∫–∞–∑–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è', 'success');
        }
        
        // –¢–µ—Å—Ç –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function testMotivational() {
            if (Notification.permission !== 'granted') {
                log('‚ùå –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return;
            }
            
            const notification = new Notification('–í—Ä–µ–º—è –∏–∑—É—á–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π! üåü', {
                body: '–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–π –¥–µ–Ω—å —Å –∏–∑—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å–ª–æ–≤ –∏–ª–∏ –≥—Ä–∞–º–º–∞—Ç–∏–∫–∏',
                icon: './icons/icon-192x192.svg',
                badge: './icons/icon-72x72.svg',
                tag: 'motivational'
            });
            
            log('üì® –ü–æ–∫–∞–∑–∞–Ω–æ –º–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ', 'success');
        }
        
        // –¢–µ—Å—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function testScheduled() {
            if (Notification.permission !== 'granted') {
                log('‚ùå –ù–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return;
            }
            
            // –ü–ª–∞–Ω–∏—Ä—É–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                const notification = new Notification('–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ', {
                    body: '–≠—Ç–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –±—ã–ª–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 5 —Å–µ–∫—É–Ω–¥',
                    icon: './icons/icon-192x192.svg',
                    badge: './icons/icon-72x72.svg',
                    tag: 'scheduled'
                });
                
                log('üì® –ü–æ–∫–∞–∑–∞–Ω–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ', 'success');
            }, 5000);
            
            log('‚è∞ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ 5 —Å–µ–∫—É–Ω–¥', 'info');
        }
        
        // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
        function updateDeviceInfo() {
            const deviceInfo = document.getElementById('deviceInfo');
            const userAgent = navigator.userAgent;
            const isIOS = /iPad|iPhone|iPod/.test(userAgent) && !window.MSStream;
            const isAndroid = /Android/.test(userAgent);
            const isMobile = /Mobi|Android/i.test(userAgent);
            
            deviceInfo.innerHTML = `
                <strong>–ë—Ä–∞—É–∑–µ—Ä:</strong> ${navigator.userAgent}<br>
                <strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</strong> ${navigator.platform}<br>
                <strong>iOS:</strong> ${isIOS ? '‚úÖ' : '‚ùå'}<br>
                <strong>Android:</strong> ${isAndroid ? '‚úÖ' : '‚ùå'}<br>
                <strong>–ú–æ–±–∏–ª—å–Ω–æ–µ:</strong> ${isMobile ? '‚úÖ' : '‚ùå'}<br>
                <strong>Service Worker:</strong> ${'serviceWorker' in navigator ? '‚úÖ' : '‚ùå'}<br>
                <strong>Notifications:</strong> ${'Notification' in window ? '‚úÖ' : '‚ùå'}
            `;
        }
        
        // –¢–µ—Å—Ç–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        let testNotificationSettings = {
            enableNotifications: true,
            enableTaskNotifications: true,
            enableLevelNotifications: true
        };
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        function toggleTestSetting(setting, value) {
            testNotificationSettings[setting] = value;
            log(`‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ${setting} –∏–∑–º–µ–Ω–µ–Ω–∞ –Ω–∞: ${value}`, 'info');
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞, –º–æ–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function canShowTestNotification(type = 'general') {
            if (!testNotificationSettings.enableNotifications) {
                return false;
            }
            
            switch (type) {
                case 'task':
                    return testNotificationSettings.enableTaskNotifications;
                case 'level':
                    return testNotificationSettings.enableLevelNotifications;
                default:
                    return true;
            }
        }
        
        // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function testWithSettings() {
            log('üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏...', 'info');
            
            // –¢–µ—Å—Ç –±–∞–∑–æ–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            if (canShowTestNotification('general')) {
                testBasicNotification();
                log('‚úÖ –ë–∞–∑–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç)', 'success');
            } else {
                log('‚ùå –ë–∞–∑–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ø—Ä–µ—â–∞—é—Ç)', 'warning');
            }
            
            // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–¥–∞–Ω–∏–∏
            if (canShowTestNotification('task')) {
                testTaskCompletion();
                log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–¥–∞–Ω–∏–∏ –ø–æ–∫–∞–∑–∞–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç)', 'success');
            } else {
                log('‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–¥–∞–Ω–∏–∏ –Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ø—Ä–µ—â–∞—é—Ç)', 'warning');
            }
            
            // –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —É—Ä–æ–≤–Ω–µ
            if (canShowTestNotification('level')) {
                testLevelUp();
                log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —É—Ä–æ–≤–Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç)', 'success');
            } else {
                log('‚ùå –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —É—Ä–æ–≤–Ω–µ –Ω–µ –ø–æ–∫–∞–∑–∞–Ω–æ (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–ø—Ä–µ—â–∞—é—Ç)', 'warning');
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            updateDeviceInfo();
            checkSupport();
            checkPermission();
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π
            document.getElementById('testEnableNotifications').checked = testNotificationSettings.enableNotifications;
            document.getElementById('testEnableTaskNotifications').checked = testNotificationSettings.enableTaskNotifications;
            document.getElementById('testEnableLevelNotifications').checked = testNotificationSettings.enableLevelNotifications;
            
            log('üöÄ –¢–µ—Å—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∑–∞–ø—É—â–µ–Ω', 'info');
        });
    </script>
</body>
</html>
